<html>
<head>
  <title>ReciPrep</title>

  <script src="jquery-3.3.1.min.js"></script>

  <script type="text/javascript">
    $(document).ready(() => {
       $.ajax({
         url: 'recipes/',
         type: 'GET',
         dataType: 'json',
         success: (data) => {
            $("#recipe1Title").html(data['Recipe1'].name);
            $("#recipe1Img").attr('src', data['Recipe1'].img);
            $("#recipe2Title").html(data['Recipe2'].name);
            $("#recipe2Img").attr('src', data['Recipe2'].img);
         }
       });

      $("#searchBtn").click(() => {
      	const val = $("#nameBox").val();
        const requestURL = 'recipes/' + val;

        $.ajax({
          url: requestURL,
          type: 'GET',
          dataType: 'json',
          success: (data) => {
          	if (val != "") {
	            $("#recipe1Title").html(data.name);
	            $("#recipe1Img").attr('src', data.img);
	            $("#recipe2").hide();
        	}
        	else {
	            $("#recipe1Title").html(data['Recipe1'].name);
	            $("#recipe1Img").attr('src', data['Recipe1'].img);
		        $("#recipe2").show();
	            $("#recipe2Title").html(data['Recipe2'].name);
	            $("#recipe2Img").attr('src', data['Recipe2'].img);
        	}
	       }
	    });
	  });
  });
  </script>

  <link href="css/font-awesome.min.css" rel="stylesheet">

  <!-- CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/styles.min.css" rel="stylesheet">
  <link href="css/select2.min.css" rel="stylesheet">

</head>
<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top">
    <div class="container-fluid justify-content-center">
      <a class="navbar-brand" href="index.html">
        <i class="fa fa-cutlery" aria-hidden="true"></i>  ReciPrep</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
  </nav>

  <!-- Search Bar -->
  <div class="container">
    <br>
    <div class="row">
      <div class="col-lg-6">
        <div class="input-group">
          <input id="nameBox" type="text" class="form-control" placeholder="Search for...">
          <span class="input-group-btn">
            <button id="searchBtn" class="btn btn-default" type="button">Search</button>
          </span>
        </div>
      </div>
    </div>
  </div>   

  <!-- Recipe Boxes -->
  <div class="featured">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8">

          <!-- First Recipe -->
          <div class="box grid recipes" id="recipe1">
            <div class="by"><i class="fa fa-user" aria-hidden="true"></i> Recommended for you</div>
              <a href="details.html?Recipe1"><div id="recipe1Img" alt="" style="background-image: url('recipe1.jpg'); min-height: 400px; width: 100%; margin-bottom: 32px;"></div>
              <h2><a href="details.html?Recipe1" id="recipe1Title"></a></h2>
              <p>Dapibus mattis a. Nec lacus nam. Volutpat molestie ipsum. Eu et fermentum malesuada et et lorem mauris aenean partur..</p>
              <div class="tag">
                <a href="#">Salmon</a>
                <a href="#">Leafy Greens</a>
                <a href="#">Cucumber</a>
            </div>
          </div>

          <!-- Second Recipe -->
          <div class="box grid recipes" id="recipe2">
            <div class="by"><i class="fa fa-user" aria-hidden="true"></i> Recommended for you</div>
            <a href="details.html?Recipe2"><img id="recipe2Img" height="300px" width="100%" alt=""></a>
            <h2 id="recipe2Title"><a href="details.html?Recipe2">Grilled Salmon Tzatziki Bowls</a></h2>
            <p>Dapibus mattis a. Nec lacus nam. Volutpat molestie ipsum. Eu et fermentum malesuada et et lorem mauris aenean partur..</p>
            <div class="tag">
              <a href="#">Salmon</a>
              <a href="#">Leafy Greens</a>
              <a href="#">Cucumber</a>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

<!--
  Search Recipe: <input id="nameBox" type="text" size="20"/>
  <button id="searchBtn">Search</button>
  <button id="createRecipeBtn" style="float: right;">Create New Recipe</button>
-->

<!--
  <div id="recipe1">
    <h4 id="recipe1Title"></h4>
    <img id="recipe1Img" style="max-width: 200px;"></img>
  </div>

  <hr>

  <div id="recipe2">
    <h4 id="recipe2Title"></h4>
    <img id="recipe2Img" style="max-width: 200px;"></img>
  </div>
-->

</body>
</html>
